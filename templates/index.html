<!DOCTYPE html>
<html>
<head>
    <title>Spotify Profile</title>
    <style>
        button {
            padding: 8px 14px;
            margin: 4px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            background-color: #eee;
        }
        .active {
            background-color: #1db954; /* Spotify green */
            color: white;
            font-weight: bold;
        }
    </style>
    
</head>
<body>
    <h1>Logged in as: {{ user.display_name }}</h1>
    <p>Email: {{ user.email }}</p>
    <p>Country: {{ user.country }}</p>

    <h2>Choose Time Range</h2>
<a href="{{ url_for('profile', time_range='short_term') }}">
    <button class="{% if time_range == 'short_term' %}active{% endif %}">
        Last Month
    </button>
</a>
<a href="{{ url_for('profile', time_range='medium_term') }}">
    <button class="{% if time_range == 'medium_term' %}active{% endif %}">
        Last 6 Months
    </button>
</a>
<a href="{{ url_for('profile', time_range='long_term') }}">
    <button class="{% if time_range == 'long_term' %}active{% endif %}">
        All Time
    </button>
</a>


    <h2>Top 10 Artists ({{ time_range.replace('_', ' ').title() }})</h2>
    <ul>
        {% for artist in artists %}
            <li>{{ artist.name }}</li>
        {% endfor %}
    </ul>

    <h2>Top 10 Tracks ({{ time_range.replace('_', ' ').title() }})</h2>
    <ul>
        {% for track in tracks %}
            <li>{{ track.name }} by {{ track.artists | map(attribute='name') | join(', ') }}</li>
        {% endfor %}
    </ul>

    <a href="{{ url_for('logout') }}"><button>Logout</button></a>
</body>
</html>
